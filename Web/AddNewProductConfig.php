<?phprequire_once "connection.php";set_connection('localhost','root','','goods');function edit_information($idTypeProduct,$edit_id){    $sql= mysqli_query($GLOBALS['link'], "UPDATE `info` SET `idTypeProduct` = '{$idTypeProduct}',`Name_of_product` = '{$_POST['Name_of_product']}',                            `Article`= '{$_POST['Article']}',`Price` = '{$_POST['Price']}', `description` = '{$_POST['description']}'  WHERE  `id` = '{$edit_id}'");    if(!$sql){        echo mysqli_error($GLOBALS['link']);    }    header("Location: ".$_SERVER['HTTP_REFERER']);}function add_image($image){    $extension = pathinfo($image['name'],PATHINFO_EXTENSION);    $filename = uniqid() . "." . $extension;    move_uploaded_file($image['tmp_name'], "images/products/".$filename);    return $filename;}function add_information($idOfType){    $filename = add_image($_FILES['AddProductImage']);    $sql = mysqli_query($GLOBALS['link'],"INSERT INTO `info` (`Article`, `Name_of_product`, `Price`, `description`, `image_path`, `idTypeProduct`) VALUES ('{$_POST['Article']}', '{$_POST['Name_of_product']}', '{$_POST['Price']}', '{$_POST['description']}', '{$filename}', '{$idOfType}')");    if(!$sql){        echo mysqli_error($GLOBALS['link']);    }}function delete_information($deleteId){  //  set_connection('localhost','root','','goods');    $sql = mysqli_query($GLOBALS['link'],"DELETE FROM  `info` WHERE `id` = $deleteId");    if($sql) {        header("Location: ".$_SERVER['HTTP_REFERER']);    }    else{        echo "<div class = 'alert alert-danger'>Возникла ошибка ". mysqli_error($GLOBALS['link']) ."</div>";    }}if(isset($_POST['Article']) && isset($_POST['Name_of_product']) && isset($_POST['Price']) && isset($_POST['description'])) {    //set_connection('localhost','root','','goods');    $sql_data  = mysqli_query($GLOBALS['link'], "SELECT inf.idTypeProduct,ty.Type_of_productFROM info inf JOIN type_of_goods ty ON inf.idTypeProduct=ty.idTypeProduct");    if(!$sql_data){        echo mysqli_error($GLOBALS['link']);    }    $result = mysqli_fetch_array($sql_data);    if (isset($_GET['edit'])) {    edit_information($result['idTypeProduct'],$_GET['edit']);    }    else {        add_information($result['idTypeProduct']);    }}if(isset($_GET['edit'])){    //set_connection('localhost','root','','goods');    $sql = mysqli_query($GLOBALS['link'], "SELECT inf.id,inf.Article,inf.Name_of_product,inf.Price,inf.description,ty.Type_of_product FROM info inf JOIN type_of_goods ty ON inf.idTypeProduct=ty.idTypeProduct WHERE inf.id = '{$_GET['edit']}'");    $product = mysqli_fetch_array($sql);    //print_r($product);}if(isset($_GET['del'])){    delete_information($_GET['del']);}$sql_data = mysqli_query($GLOBALS['link'], "SELECT inf.id,inf.Article,inf.Name_of_product,inf.Price,inf.description,inf.idTypeProduct,inf.image_path,ty.Type_of_productFROM info inf JOIN type_of_goods ty ON inf.idTypeProduct=ty.idTypeProduct");